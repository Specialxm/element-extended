on:
  # ğŸ“¦ ç›‘å¬ push æ“ä½œ
  push:
    branches:
      - main # âœ… åªç›‘å¬ main åˆ†æ”¯

permissions:
  contents: write # âœï¸ å…è®¸å†™å…¥ gh-pages åˆ†æ”¯

jobs:
  # ğŸ› ï¸ å®šä¹‰æ„å»ºä»»åŠ¡
  build:
    runs-on: ubuntu-latest # ğŸ’» ä½¿ç”¨æœ€æ–°ç‰ˆ Ubuntu ç¯å¢ƒ
    steps:
      - name: ğŸ“¥ æ£€å‡ºä»£ç 
        uses: actions/checkout@v4

      - name: ğŸ”§ è®¾ç½® Node.js ç¯å¢ƒ
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'pnpm' # âš¡ å¯ç”¨ pnpm ç¼“å­˜ï¼ŒåŠ é€Ÿå®‰è£…

      - name: ğŸ“¦ å®‰è£…ä¾èµ–å¹¶æ‰“åŒ…é¡¹ç›®
        run: |
          npm install -g pnpm
          pnpm install
          pnpm run build:admin

      - name: ğŸš€ éƒ¨ç½²åˆ° GitHub Pages
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          branch: gh-pages # ğŸŒ¿ éƒ¨ç½²ç›®æ ‡åˆ†æ”¯
          folder: apps/web-admin/dist # ğŸ“ æ‰“åŒ…äº§ç‰©ç›®å½•
